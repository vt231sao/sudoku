Лабораторна робота №6: Найкращі практики розробки

У цьому проекті було використано ряд сучасних підходів та патернів React-розробки для забезпечення чистоти коду, масштабованості та продуктивності.

1. Композиція Custom Hooks (Separation of Concerns)

Я виніс логіку таймера та логіку гри у різні сутності. Хук useSudokuGame виступає як основний фасад для компонента гри, але він не реалізує таймер самостійно, а використовує інший кастомний хук useTimer. Це дозволяє дотримуватися принципу єдиної відповідальності (Single Responsibility Principle): таймер відповідає лише за час, а ігровий хук — за правила судоку.

Логіка гри: src/hooks/useSudokuGame.js

Логіка часу (перевикористовувана): src/hooks/useTimer.js

Використання: src/pages/GamePage.jsx

2. Модульний State Management (Zustand & Persistence)

Замість створення одного гігантського стору, я розділив глобальний стан на логічні модулі. useSettingsStore відповідає за конфігурацію (ім'я, складність), а useLeaderboardStore — за збереження результатів. Також використано middleware persist для автоматичного збереження даних у LocalStorage, що робить стан стійким до перезавантаження сторінки без написання зайвих ефектів.

Стор налаштувань: src/store/useSettingsStore.js

Стор результатів: src/store/useLeaderboardStore.js

Інтеграція в гру: src/pages/GamePage.jsx

3. Ізоляція стилів за допомогою CSS Modules

Для уникнення конфліктів імен класів (global scope pollution) та покращення підтримки коду, я відмовився від глобальних стилів на користь CSS Modules. Кожен компонент має свій власний файл стилів, що гарантує інкапсуляцію візуального оформлення.

Стилі сторінки гри: src/pages/GamePage.module.css

Стилі компонентів: src/components/SudokuBoard/SudokuBoard.module.css

Стилі кнопок: src/components/Button.module.css

4. Винесення "Чистої" бізнес-логіки (Utils Pattern)

Щоб компоненти та хуки React залишалися чистими і відповідали лише за відображення та стан інтерфейсу, алгоритмічно складну логіку (генерація поля судоку, перевірка валідності рішення) було винесено у звичайні JavaScript-функції в папку utils. Ці функції є "чистими" (pure functions), не залежать від React і легко тестуються.

Генерація та валідація: src/utils/sudokuLogic.js

Використання в хуку: src/hooks/useSudokuGame.js

5. Використання React Portals для Модальних вікон

Для відображення вікон перемоги/програшу використано механізм Порталів. Це дозволяє рендерити модальне вікно поза ієрархією DOM батьківського компонента (в окремому вузлі #modal-root), що вирішує проблеми з z-index та обрізанням контенту властивістю overflow: hidden у батьківських контейнерах.

Компонент порталу: src/components/Modal.jsx

Вузол монтування: public/index.html

Використання: src/pages/GamePage.jsx